<dx-validation-group #DataValidator>
  <div class="row">
    <div class="col-sm-4">
      <div class="form-group">
        <label>First name</label>
        <dx-text-box [(value)]="singleClient.first_name">
          <dx-validator>
            <dxi-validation-rule type="required" message="First name is required"></dxi-validation-rule>
          </dx-validator>
        </dx-text-box>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <label>Second name</label>
        <dx-text-box [(value)]="singleClient.second_name">
          <dx-validator>
            <dxi-validation-rule type="required" message="Second name is required"></dxi-validation-rule>
          </dx-validator>
        </dx-text-box>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <label>Mobile</label>
        <dx-number-box [class.required]="true" [(value)]="singleClient.mobile" [showSpinButtons]="false"
          [showClearButton]="false">
          <dx-validator>
            <dxi-validation-rule type="required" message="Mobile is required"></dxi-validation-rule>
          </dx-validator>
        </dx-number-box>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <label>Email</label>
        <dx-text-box [(value)]="singleClient.email"></dx-text-box>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <label>Gender</label>
        <dx-select-box [class.required]="true" [dataSource]="[{name:'Male'},{name:'Female'}]"
          [(value)]="singleClient.gender" displayExpr="name" valueExpr="name" [searchEnabled]="true">
          <dx-validator>
            <dxi-validation-rule type="required" message="Request type type is required"></dxi-validation-rule>
          </dx-validator>
        </dx-select-box>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <label>Request type</label>
        <dx-select-box [class.required]="true" [dataSource]="[{name:'Buy'},{name:'Sale'}, {name:'Rent'}]"
          [(value)]="singleClient.request_type" displayExpr="name" valueExpr="name" [searchEnabled]="true">
          <dx-validator>
            <dxi-validation-rule type="required" message="Request type type is required"></dxi-validation-rule>
          </dx-validator>
        </dx-select-box>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <label>Budget from</label>
        <dx-number-box [class.required]="true" [(value)]="singleClient.budget_from" [showSpinButtons]="false"
          [showClearButton]="false">
          <dx-validator>
            <dxi-validation-rule type="required" message="Budget from is required"></dxi-validation-rule>
          </dx-validator>
        </dx-number-box>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="form-group">
        <label>Budget to</label>
        <dx-number-box [class.required]="true" [(value)]="singleClient.budget_to" [showSpinButtons]="false"
          [showClearButton]="false">
          <dx-validator>
            <dxi-validation-rule type="required" message="Budget to is required"></dxi-validation-rule>
          </dx-validator>
        </dx-number-box>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <div class="form-group">
        <button type="button" (click)="saveClient()" mat-flat-button color="primary" class="mat-primary">Save client</button>
      </div>
    </div>
  </div>
</dx-validation-group>
<div *ngIf="singleClient.id">
  <fieldset>
    <legend>Add activity to this client:</legend>
    <app-new-activity [clientId]="singleClient.id" (afterSave)="reloadActivities($event)"></app-new-activity>
    <app-activities-list #activitiesListComponent [filterByClient]="singleClient.id"></app-activities-list>
  </fieldset>
</div>